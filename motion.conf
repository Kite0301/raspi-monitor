# Raspberry Pi optimized motion configuration
# Basic settings
daemon off
process_id_file /var/run/motion/motion.pid
setup_mode off
log_level 6
log_type all

# Video device settings
videodevice /dev/video0
v4l2_palette 17  # YUV420P

# Image dimensions and quality
width 640
height 480
framerate 10  # Low framerate for stability
minimum_frame_time 0
rotate 0
flip_axis none
locate_motion_mode off
locate_motion_style box

# Motion detection settings
threshold 1500
noise_level 32
noise_tune on
despeckle_filter EedDl
area_detect on
mask_file
smart_mask_speed 0
lightswitch_percent 0
minimum_motion_frames 1
gap 60
max_changes 1000
post_capture 0
pre_capture 0
event_gap 60
max_movie_time 0

# Image File settings
output_pictures off
output_debug_pictures off
quality 80
picture_type jpeg

# Movie file settings  
movie_output on
movie_max_time 60
movie_bps 400000
movie_quality 45
movie_codec mp4:h264_v4l2m2m

# Streaming settings
stream_port 8081
stream_quality 50
stream_motion off
stream_maxrate 10
stream_localhost off
stream_limit 0
stream_auth_method 0

# Webcontrol settings
webcontrol_port 8080
webcontrol_localhost off
webcontrol_html_output on
webcontrol_auth_method 0

# Target directories
target_dir /home/pi/raspi-monitor/recordings
movie_filename %Y%m%d_%H%M%S
picture_filename %Y%m%d_%H%M%S-%q

# Log settings
logfile /var/log/motion/motion.log