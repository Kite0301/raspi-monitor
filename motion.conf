# Motion 4.5.x compatible configuration for Raspberry Pi
daemon off
pid_file /tmp/motion.pid
setup_mode off
log_level 6
log_type all
log_file /home/pi/raspi-monitor/motion.log

# Video device settings (Motion 4.3.2+ syntax)
video_device /dev/video0
video_params palette=17

# Image dimensions and quality
width 640
height 480
framerate 10
minimum_frame_time 0
rotate 0
flip_axis none
locate_motion_mode off
locate_motion_style box

# Motion detection settings
threshold 1500
noise_level 32
noise_tune on
despeckle_filter EedDl
area_detect on
smart_mask_speed 0
lightswitch_percent 0
minimum_motion_frames 1
event_gap 60

# Image File settings (Motion 4.1.1+ syntax)
picture_output off
picture_output_motion off
picture_quality 80
picture_type jpeg

# Movie file settings
movie_output on
movie_max_time 60
movie_bps 400000
movie_quality 45
movie_codec mp4:h264_v4l2m2m

# Streaming settings
stream_port 8081
stream_quality 50
stream_motion off
stream_maxrate 10
stream_localhost off
stream_limit 0
stream_auth_method 0

# Webcontrol settings (Motion 4.1.1+ syntax)
webcontrol_port 8080
webcontrol_localhost off
webcontrol_interface 2
webcontrol_auth_method 0

# Target directories
target_dir /home/pi/raspi-monitor/recordings
movie_filename %Y%m%d_%H%M%S
picture_filename %Y%m%d_%H%M%S-%q